$(function(){$(".aboutp").length&&($(".aboutp__down").click(function(){$("html, body").animate({scrollTop:$(".whitebox").offset().top-60},700)}),new Swiper($(".about-full-slider")[0],{loop:!0,spaceBetween:15,effect:"fade",centeredSlides:!0,slidesPerView:"auto",loopedSlides:0,navigation:{nextEl:$(".about-full-slider__nav-next")[0],prevEl:$(".about-full-slider__nav-prev")[0]},on:{init:function(e){$(".about-full-slider__pagi").html(`<span>${String(this.realIndex+1).padStart(2,"0")}</span><span></span><span>${String(this.slides.length).padStart(2,"0")}</span>`)},slideChange:function(){$(".about-full-slider__pagi").html(`<span>${String(this.realIndex+1).padStart(2,"0")}</span><span></span><span>${String(this.slides.length).padStart(2,"0")}</span>`)}}}),new Swiper($(".about-photos")[0],{loop:!0,spaceBetween:15,preventClicks:!1,preventClicksPropagation:!1,centeredSlides:!0,slidesPerView:"auto",loopedSlides:10,navigation:{nextEl:$(".about-photos__gallery-next")[0],prevEl:$(".about-photos__gallery-prev")[0]}}))}),$(function(){function n(){$(".contact__layers").each(function(){let e=$(this).find(".contact__layer-btn._active");$(this).find(".contact__layers-bg").css({left:e.position().left,top:e.position().top,width:e.outerWidth(),height:e.outerHeight()})})}ymaps.ready(function(){!function(){var e=$(".contact__maps").data("marker");{var t,i;$(".contact").length&&(t=new ymaps.Map("map_1",{center:[52.953556,158.252907],zoom:11,controls:["zoomControl"],behaviors:["ScrollZoom"]}),i=new ymaps.multiRouter.MultiRoute({referencePoints:["Петрапаловск-Камчатский","52.953556,158.252907"],params:{results:1,wayPointFinishIconContent:"sasd"}},{wayPointFinishIconContent:"sasd",zoomMargin:[60,0,50,0],boundsAutoApply:!0}),t.geoObjects.add(i),i=new ymaps.Map("map_2",{center:[52.953556,158.252907],zoom:11,controls:["zoomControl"],behaviors:["ScrollZoom"]}),e=new ymaps.multiRouter.MultiRoute({referencePoints:["Аэропорт «Елизово»","52.953556,158.252907"],params:{results:1}},{wayPointFinishIconContent:"sasd",wayPointFinishIconLayout:"default#image",wayPointFinishIconImageHref:e,wayPointFinishIconImageSize:[61,61],wayPointFinishIconImageOffset:[-30,-30],zoomMargin:[60,0,50,0],boundsAutoApply:!0}),i.geoObjects.add(e))}n(),$(".contact__layer-btn").click(function(){$(".contact__layer-btn").removeClass("_active"),$(this).addClass("_active"),$(".contact__map").stop().fadeOut(),$($(this).data("map")).stop().fadeIn(),n()}),$(".contact__layer-btn").first().trigger("click")}()})}),$(function(){}),$(function(){$(".restaurant-top__down").click(function(){$("html, body").animate({scrollTop:$(".restaurant-top__img").offset().top+100},700)}),$(".rest-photos").length&&new Swiper($(".rest-photos")[0],{loop:!0,spaceBetween:15,preventClicks:!1,preventClicksPropagation:!1,centeredSlides:!0,slidesPerView:"auto",loopedSlides:10,navigation:{nextEl:$(".rest-photos__gallery-next")[0],prevEl:$(".rest-photos__gallery-prev")[0]}}),$(".restaurant-menu__slider").length&&new Swiper(".restaurant-menu__slider",{speed:400,spaceBetween:100,slidesPerView:1,mousewheel:{forceToAxis:!0},navigation:{nextEl:".restaurant-menu__nav-next",prevEl:".restaurant-menu__nav-prev"}})}),Fancybox.bind("[data-fancybox]",{}),$(function(){$(".room-detail__top-down").click(function(){$("html, body").animate({scrollTop:window.innerHeight},400)}),$(".room-detail__gallery").length&&new Swiper($(".room-detail__gallery")[0],{loop:!0,spaceBetween:15,preventClicks:!1,preventClicksPropagation:!1,centeredSlides:!0,slidesPerView:"auto",loopedSlides:10,navigation:{nextEl:$(".room-detail__gallery-next")[0],prevEl:$(".room-detail__gallery-prev")[0]}})}),$(function(){$(".rooms__filter").click(function(){$(".rooms__filter").removeClass("_active"),$(this).addClass("_active");let e=$(this).data("filter");"all"==e?$(".room").stop().slideDown():$(".room").each(function(){e==$(this).data("filter")?$(this).stop().slideDown():$(this).stop().slideUp()})})}),$(function(){}),$(function(){}),$(function(){AOS.init({disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:120,delay:0,duration:1e3,easing:"ease",once:!0,mirror:!1,anchorPlacement:"top-bottom"})});class Navigation{static nav=document.getElementById("nav");static bg=document.getElementsByClassName("nav__bg")[0];static menu=document.getElementsByClassName("nav__menu")[0];static logo=document.getElementById("nav-logo");static burger=document.getElementById("nav-burger");constructor(){Navigation.burger.onclick=()=>{Navigation.nav.classList.contains("active")?this.navOff():this.navOn()},window.addEventListener("scroll",()=>{20<window.scrollY&&!Navigation.nav.classList.contains("down")&&Navigation.nav.classList.add("down"),window.scrollY<20&&Navigation.nav.classList.contains("down")&&Navigation.nav.classList.remove("down")})}navOff(){document.body.style.overflow="",Navigation.nav.classList.remove("active"),setTimeout(()=>{Navigation.bg.style.display="none",Navigation.menu.style.display="none"},730)}navOn(){document.body.style.overflow="hidden",Navigation.bg.style.display="",Navigation.menu.style.display="",setTimeout(()=>{Navigation.nav.classList.add("active")},30)}navTo(e){switch(this.navOff(),e%6){case 0:Navigation.refs.about.scrollIntoView({block:"center",behavior:"smooth"});break;case 1:Navigation.refs.habit.scrollIntoView({block:"center",behavior:"smooth"});break;case 2:Navigation.refs.bering.scrollIntoView({block:"center",behavior:"smooth"});break;case 3:Navigation.refs.services.scrollIntoView({block:"center",behavior:"smooth"});break;case 4:Navigation.refs.tours.scrollIntoView({block:"start",behavior:"smooth"});break;case 5:Navigation.refs.contacts.scrollIntoView({block:"start",behavior:"smooth"})}}}const navigation=new Navigation,controller=new ScrollMagic.Controller,headerTiming=4700,headerSwiperProgressElems={numCurSlide:document.getElementById("header-cur-slide"),numCountSlides:document.getElementById("header-count-slides")};if(document.querySelector(".front-page")){let e=$(".header_bg-slide").length;const r=new Swiper("#header-bg-swiper",{loop:!0,direction:"vertical",watchSlidesProgress:!0,speed:1e3,on:{progress:function(e,t){},init:function(){$(".header__swiper-progress p").html(`<span id="header-cur-slide">${String(this.realIndex+1).padStart(2,"0")}</span> / <span id="header-count-slides">${String(e).padStart(2,"0")}</span>`)},slideChange:function(){$(".header__swiper-progress p").html(`<span id="header-cur-slide">${String(this.realIndex+1).padStart(2,"0")}</span> / <span id="header-count-slides">${String(e).padStart(2,"0")}</span>`)},slideNextTransitionEnd:function(){}}});let t=$("#timer-path"),i=5e3,n=400,a=0,s=0,o=!0,l=i+n;setTimeout(function(){$(".header__content-text").addClass("_anim")},1300),setInterval(function(){a>=n&&1==o&&(o=!1,$("#header-bg-swiper").removeClass("_anim")),a>=i&&0==o&&(o=!0,$("#header-bg-swiper").addClass("_anim")),a>=l&&(r.slideNext(),a=-10),s=1/(l/a),t.css("strokeDasharray",440*s+" 440"),a+=10},10),$(".header__swiper-arrow").click(function(){a=i});const z={numCurSlide:document.getElementById("intro-cur-slide"),numCountSlides:document.getElementById("intro-count-slides")},A=new Swiper("#intro-img-swiper",{loop:!0,effect:"fade",autoplay:{delay:5e3,disableOnInteraction:!1,waitForTransition:!0},speed:1e3,on:{init:function(){z.numCountSlides.textContent=String(this.slides.length).padStart(2,"0")},slideNextTransitionStart:function(){z.numCurSlide.textContent=String(this.realIndex+1).padStart(2,"0")}}}),B={numCurSlide:document.getElementById("habbit-cur-slide"),numCountSlides:document.getElementById("habbit-count-slides")};let d=$("#habbit-img-swiper").clone(),c=$("#habbit-info-swiper .swiper-slide").length;const E=new Swiper("#habbit-img-swiper",{speed:500,allowTouchMove:!1,navigation:{nextEl:"#habbit-swiper-next",prevEl:"#habbit-swiper-prev"},on:{init:function(){$(".habbit-card__info-progress").html(`   <p id="habbit-cur-slide">${String(this.realIndex+1).padStart(2,"0")}</p>
                  <div></div>
                  <p id="habbit-count-slides">${String(c).padStart(2,"0")}</p>
					`)},update:function(){$(".habbit-card__info-progress").html(`   <p id="habbit-cur-slide">${String(this.realIndex+1).padStart(2,"0")}</p>
                  <div></div>
                  <p id="habbit-count-slides">${String(c).padStart(2,"0")}</p>
					`)},slideChange:function(){$(".habbit-card__info-progress").html(`   <p id="habbit-cur-slide">${String(this.realIndex+1).padStart(2,"0")}</p>
                  <div></div>
                  <p id="habbit-count-slides">${String(c).padStart(2,"0")}</p>
					`)},slidePrevTransitionStart:function(){$(".habbit-card__info-progress").html(`   <p id="habbit-cur-slide">${String(this.realIndex+1).padStart(2,"0")}</p>
                  <div></div>
                  <p id="habbit-count-slides">${String(c).padStart(2,"0")}</p>
					`)}}}),F=new Swiper("#habbit-info-swiper",{allowTouchMove:!1,speed:500,effect:"creative",slidesPerView:1,creativeEffect:{prev:{translate:[0,0,-400],opacity:0},next:{translate:["100%",0,0]}},navigation:{nextEl:"#habbit-swiper-next",prevEl:"#habbit-swiper-prev"}});$(".habbit-menu__item").click(function(){$(".habbit-menu__item").removeClass("active"),$(this).addClass("active");let e=$(this).data("filter");c="all"==e?($(this).removeClass("_d-none"),d.find(".swiper-slide").length):($(".habbit-card__slide").each(function(){e==$(this).data("filter")?$(this).removeClass("_d-none"):$(this).addClass("_d-none")}),d.find(".swiper-slide[data-filter='"+e+"']").length),E.update(),E.slideTo(0),F.update(),F.slideTo(0)});const G=new Swiper("#bering-swiper",{loop:!0,spaceBetween:15,centeredSlides:!0,slidesPerView:"auto",loopedSlides:10,navigation:{nextEl:"#bering-swiper-next",prevEl:"#bering-swiper-prev"}});if($("#services-img-swiper").length){const L=new Swiper("#services-thumb-swiper",{speed:1e3,slidesPerGroup:1,slidesPerView:"auto",spaceBetween:20}),M=new Swiper("#services-info-swiper",{speed:1e3,allowTouchMove:!1}),N=new Swiper("#services-img-swiper",{initialSlide:M.slides.length-1,speed:1e3,allowTouchMove:!1,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1,waitForTransition:!0},thumbs:{swiper:L},on:{slideNextTransitionStart:function(){M.slideTo(this.realIndex)},slidePrevTransitionStart:function(){M.slideTo(this.realIndex)},slideChange:function(e){$(".services-thumb-scroll__it").removeClass("_active"),$(".services-thumb-scroll__it").eq(e.activeIndex-1).addClass("_active"),console.log("axx")}}});setTimeout(function(){$(".services-thumb-scroll__it").eq(0).addClass("_active")},100),$(".services-thumb-scroll__it").eq(0).addClass("_active"),$(".services-thumb-scroll__it").click(function(){N.slideTo($(this).index()+1)}),N.slideNext()}const H=new Swiper("#tours-card-swiper",{speed:1e3,slidesPerGroup:1,preventClicksPropagation:!1,slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:"#tours-swiper-next",prevEl:"#tours-swiper-prev"}})}$(function(){var n=$("html, body");window.location.hash&&$(window.location.hash).length&&n.animate({scrollTop:$(window.location.hash).offset().top-80},400),$('a[href*="#"]').click(function(){if($($.attr(this,"href")).length){n.animate({scrollTop:$($.attr(this,"href")).offset().top-80},400);let e=document.getElementById("nav"),t=document.getElementsByClassName("nav__bg")[0],i=document.getElementsByClassName("nav__menu")[0];document.body.style.overflow="",e.classList.remove("active"),setTimeout(()=>{t.style.display="none",i.style.display="none"},730)}return!1})}),$(function(){$(".p-slider-tour__swiper").each(function(){new Swiper(this,{speed:400,shortSwipes:!1,navigation:{nextEl:".p-slider-tour__nav-next",prevEl:".p-slider-tour__nav-prev"}})}),$(".p-slider-service__swiper").each(function(){new Swiper(this,{speed:400,shortSwipes:!1,navigation:{nextEl:".p-slider-service__nav-next",prevEl:".p-slider-service__nav-prev"}})});const t=new Swiper(".p-slider-service",{speed:400,loop:!0,allowTouchMove:!1,shortSwipes:!1,preventClicks:!0,preventClicksPropagation:!0});$("[data-serviceslide]").click(function(){var e=$(this).data("serviceslide");t.slideTo(e),$("#popup-service").fadeIn(),$("html").addClass("_no-scroll")});const i=new Swiper(".p-slider-tour",{speed:400,loop:!0,preventClicks:!0,preventClicksPropagation:!0,allowTouchMove:!1,shortSwipes:!1});$("[data-tourslide]").click(function(){var e=$(this).data("tourslide");i.slideTo(e),$("#popup-tours").fadeIn(),$("html").addClass("_no-scroll")}),$(".popup-sl__close").click(function(){$(this).closest(".popup-sl").fadeOut(),$("html").removeClass("_no-scroll")})});