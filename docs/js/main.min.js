$(function(){$(".aboutp").length&&($(".aboutp__down").click(function(){$("html, body").animate({scrollTop:$(".whitebox").offset().top-60},400)}),new Swiper($(".about-full-slider")[0],{loop:!0,spaceBetween:15,effect:"fade",centeredSlides:!0,slidesPerView:"auto",loopedSlides:0,navigation:{nextEl:$(".about-full-slider__nav-next")[0],prevEl:$(".about-full-slider__nav-prev")[0]},on:{init:function(e){$(".about-full-slider__pagi").html(`<span>${String(this.realIndex+1).padStart(2,"0")}</span><span></span><span>${String(this.slides.length).padStart(2,"0")}</span>`)},slideChange:function(){$(".about-full-slider__pagi").html(`<span>${String(this.realIndex+1).padStart(2,"0")}</span><span></span><span>${String(this.slides.length).padStart(2,"0")}</span>`)}}}),new Swiper($(".about-photos")[0],{loop:!0,spaceBetween:15,centeredSlides:!0,slidesPerView:"auto",loopedSlides:10,navigation:{nextEl:$(".about-photos__gallery-next")[0],prevEl:$(".about-photos__gallery-prev")[0]}}),new Swiper($(".about-text-1__slider")[0],{loop:!0,autoplay:{delay:5e3},speed:1e3,on:{init:function(e){$(".about-text-1__slider-pagi").html(`<span>${String(this.realIndex+1).padStart(2,"0")}</span><span></span><span>${String(this.slides.length).padStart(2,"0")}</span>`)},slideChange:function(){$(".about-text-1__slider-pagi").html(`<span>${String(this.realIndex+1).padStart(2,"0")}</span><span></span><span>${String(this.slides.length).padStart(2,"0")}</span>`)}}}))}),$(function(){function n(){$(".contact__layers").each(function(){let e=$(this).find(".contact__layer-btn._active");$(this).find(".contact__layers-bg").css({left:e.position().left,top:e.position().top,width:e.outerWidth(),height:e.outerHeight()})})}ymaps.ready(function(){!function(){var e=$(".contact__maps").data("marker");{var t,i;$(".contact").length&&(t=new ymaps.Map("map_1",{center:[52.953556,158.252907],zoom:11,controls:[]}),i=new ymaps.multiRouter.MultiRoute({referencePoints:["Петрапаловск-Камчатский","52.953556,158.252907"],params:{results:1,wayPointFinishIconContent:"sasd"}},{wayPointFinishIconContent:"sasd",zoomMargin:[60,0,50,0],boundsAutoApply:!0}),t.geoObjects.add(i),i=new ymaps.Map("map_2",{center:[52.953556,158.252907],zoom:11,controls:[]}),e=new ymaps.multiRouter.MultiRoute({referencePoints:["Аэропорт «Елизово»","52.953556,158.252907"],params:{results:1}},{wayPointFinishIconContent:"sasd",wayPointFinishIconLayout:"default#image",wayPointFinishIconImageHref:e,wayPointFinishIconImageSize:[61,61],wayPointFinishIconImageOffset:[-30,-30],zoomMargin:[60,0,50,0],boundsAutoApply:!0}),i.geoObjects.add(e))}n(),$(".contact__layer-btn").click(function(){$(".contact__layer-btn").removeClass("_active"),$(this).addClass("_active"),$(".contact__map").stop().fadeOut(),$($(this).data("map")).stop().fadeIn(),n()}),$(".contact__layer-btn").first().trigger("click")}()})}),$(function(){}),$(function(){$(".room-detail__top-down").click(function(){$("html, body").animate({scrollTop:window.innerHeight},400)}),$(".room-detail__gallery").length&&new Swiper($(".room-detail__gallery")[0],{loop:!0,spaceBetween:15,centeredSlides:!0,slidesPerView:"auto",loopedSlides:10,navigation:{nextEl:$(".room-detail__gallery-next")[0],prevEl:$(".room-detail__gallery-prev")[0]}})}),$(function(){$(".rooms__filter").click(function(){$(".rooms__filter").removeClass("_active"),$(this).addClass("_active");let e=$(this).data("filter");"all"==e?$(".room").stop().slideDown():$(".room").each(function(){e==$(this).data("filter")?$(this).stop().slideDown():$(this).stop().slideUp()})})});class Navigation{static nav=document.getElementById("nav");static bg=document.getElementsByClassName("nav__bg")[0];static menu=document.getElementsByClassName("nav__menu")[0];static logo=document.getElementById("nav-logo");static burger=document.getElementById("nav-burger");static refs={items:Array.from(document.getElementsByClassName("nav-item")),about:document.getElementsByClassName("about")[0],habit:document.getElementsByClassName("habit")[0],bering:document.getElementsByClassName("bering")[0],services:document.getElementsByClassName("services")[0],tours:document.getElementsByClassName("tours")[0],contacts:document.getElementsByClassName("footer")[0]};constructor(){Navigation.logo.onclick=()=>{this.navOff(),window.scrollTo({top:0,behavior:"smooth"})},Navigation.burger.onclick=()=>{Navigation.nav.classList.contains("active")?this.navOff():this.navOn()},window.addEventListener("scroll",()=>{20<window.scrollY&&!Navigation.nav.classList.contains("down")&&Navigation.nav.classList.add("down"),window.scrollY<20&&Navigation.nav.classList.contains("down")&&Navigation.nav.classList.remove("down")}),Navigation.refs.items.forEach((e,t)=>{e.onclick=()=>{this.navTo(t)}})}navOff(){document.body.style.overflow="",Navigation.nav.classList.remove("active"),setTimeout(()=>{Navigation.bg.style.display="none",Navigation.menu.style.display="none"},730)}navOn(){document.body.style.overflow="hidden",Navigation.bg.style.display="",Navigation.menu.style.display="",setTimeout(()=>{Navigation.nav.classList.add("active")},30)}navTo(e){switch(this.navOff(),e%6){case 0:Navigation.refs.about.scrollIntoView({block:"center",behavior:"smooth"});break;case 1:Navigation.refs.habit.scrollIntoView({block:"center",behavior:"smooth"});break;case 2:Navigation.refs.bering.scrollIntoView({block:"center",behavior:"smooth"});break;case 3:Navigation.refs.services.scrollIntoView({block:"center",behavior:"smooth"});break;case 4:Navigation.refs.tours.scrollIntoView({block:"start",behavior:"smooth"});break;case 5:Navigation.refs.contacts.scrollIntoView({block:"start",behavior:"smooth"})}}}const navigation=new Navigation,controller=new ScrollMagic.Controller,headerTiming=1e4,headerSwiperProgressElems={numCurSlide:document.getElementById("header-cur-slide"),numCountSlides:document.getElementById("header-count-slides")},headerTimer={path:document.getElementById("timer-path"),timerId:void 0,frequency:50,length:headerTiming,start(){let e=1;this.timerId=setInterval(()=>{e-=this.frequency/this.length,this.setPath(e)},this.frequency)},stop(){this.setPath(0),this.timerId&&clearInterval(this.timerId),setTimeout(()=>{this.setPath(1)},400)},setPath(e){this.path.style.strokeDasharray=[440*e,440]}};if(document.querySelector(".front-page")){const u=new Swiper("#header-bg-swiper",{loop:!0,effect:"cards",cardsEffect:{perSlideOffset:20,perSlideRotate:4},autoplay:{delay:headerTiming,disableOnInteraction:!1,waitForTransition:!0},speed:1e3,navigation:{nextEl:"#header-bg-swiper-next"},on:{init:function(){headerSwiperProgressElems.numCountSlides.textContent=String(this.slides.length).padStart(2,"0"),headerTimer.start()},slideNextTransitionStart:function(){headerSwiperProgressElems.numCurSlide.textContent=String(this.realIndex+1).padStart(2,"0"),headerTimer.stop()},slideNextTransitionEnd:function(){headerTimer.start()}}}),v={numCurSlide:document.getElementById("intro-cur-slide"),numCountSlides:document.getElementById("intro-count-slides")},w=new Swiper("#intro-img-swiper",{loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1,waitForTransition:!0},speed:1e3,on:{init:function(){v.numCountSlides.textContent=String(this.slides.length).padStart(2,"0")},slideNextTransitionStart:function(){v.numCurSlide.textContent=String(this.realIndex+1).padStart(2,"0")}}});new ScrollMagic.Scene({duration:600,triggerElement:"#intro"}).setTween((new TimelineMax).add(TweenMax.to("#intro_main-text",{opacity:1})).add(TweenMax.to("#intro-text01",{opacity:1})).add(TweenMax.to("#intro-text02",{opacity:1}))).addTo(controller),new ScrollMagic.Scene({duration:600,triggerElement:"#intro_main-text",triggerHook:"onLeave"}).setTween((new TimelineMax).add(TweenMax.to("#intro-img-swiper-box",{opacity:1,bottom:parseInt(getComputedStyle(document.getElementById("intro-img-swiper-box")).bottom)+100})).add(TweenMax.to("#intro-img",{opacity:1,bottom:parseInt(getComputedStyle(document.getElementById("intro-img")).bottom)+100}))).addTo(controller),new ScrollMagic.Scene({duration:600,triggerElement:"#about-trigger"}).setTween((new TimelineMax).add(TweenMax.to("#about-title",{opacity:1})).add(TweenMax.to("#about-text",{opacity:1})).add(TweenMax.to("#about-but",{opacity:1})).add(TweenMax.to("#about-chalet",{opacity:1})).add(TweenMax.to("#about-house",{opacity:1,bottom:0}))).addTo(controller);const x={numCurSlide:document.getElementById("habbit-cur-slide"),numCountSlides:document.getElementById("habbit-count-slides")},y=new Swiper("#habbit-img-swiper",{loop:!0,speed:500,allowTouchMove:!1,navigation:{nextEl:"#habbit-swiper-next",prevEl:"#habbit-swiper-prev"},effect:"creative",creativeEffect:{prev:{translate:[0,0,-400]},next:{translate:["-100%",0,0]}},on:{init:function(){x.numCountSlides.textContent=String(this.slides.length).padStart(2,"0")},slideNextTransitionStart:function(){x.numCurSlide.textContent=String(this.realIndex+1).padStart(2,"0")},slidePrevTransitionStart:function(){x.numCurSlide.textContent=String(this.realIndex+1).padStart(2,"0")}}}),z=new Swiper("#habbit-info-swiper",{loop:!0,allowTouchMove:!1,speed:500,effect:"creative",slidesPerView:1,creativeEffect:{prev:{translate:[0,0,-400],opacity:0},next:{translate:["100%",0,0]}},navigation:{nextEl:"#habbit-swiper-next",prevEl:"#habbit-swiper-prev"}}),A=new Swiper("#bering-swiper",{initialSlide:2,speed:1e3,spaceBetween:30,slidesPerGroup:1,centeredSlides:!0,slidesPerView:"auto",allowTouchMove:!1,preventInteractionOnTransition:!0,navigation:{nextEl:"#bering-swiper-next",prevEl:"#bering-swiper-prev"}});A.on("slideNextTransitionEnd",function(){const e=this.slides[0];e.classList.add("invisible"),this.removeSlide(0),this.appendSlide(e),setTimeout(()=>{this.slides.at(-1).classList.remove("invisible")},30)}),A.on("slidePrevTransitionEnd",function(){var e=this.slides.length-1;const t=this.slides[e];t.classList.add("invisible"),this.removeSlide(e),this.prependSlide(t),setTimeout(()=>{this.slides.at(0).classList.remove("invisible")},30)});const B=new Swiper("#services-thumb-swiper",{speed:1e3,slidesPerGroup:1,slidesPerView:"auto",spaceBetween:20}),C=new Swiper("#services-info-swiper",{speed:1e3,allowTouchMove:!1}),D=new Swiper("#services-img-swiper",{initialSlide:C.slides.length-1,speed:1e3,allowTouchMove:!1,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1,waitForTransition:!0},thumbs:{swiper:B},on:{slideNextTransitionStart:function(){C.slideTo(this.realIndex)},slidePrevTransitionStart:function(){C.slideTo(this.realIndex)}}});D.slideNext();const E=new Swiper("#tours-card-swiper",{speed:1e3,slidesPerGroup:1,slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:"#tours-swiper-next",prevEl:"#tours-swiper-prev"}});new ScrollMagic.Scene({duration:500,triggerElement:"#tours"}).setTween((new TimelineMax).add(TweenMax.to("#tours-title",{opacity:1,top:-74})).add(TweenMax.to("#tours-grandtext",{opacity:1}))).addTo(controller)}